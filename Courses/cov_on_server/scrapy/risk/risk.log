2021-07-12 13:36:20 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:36:20 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:36:20 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:36:20 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:36:20 [scrapy.extensions.telnet] INFO: Telnet Password: 030b9eae2f05ce82
2021-07-12 13:36:20 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:36:21 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:36:21 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:36:21 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:36:21 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:36:21 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:36:21 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 13:36:21 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:36:21 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:36:21 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:36:21 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:36:21 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.280669,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 36, 21, 682286),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54439936,
 'memusage/startup': 54439936,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 36, 21, 401617)}
2021-07-12 13:36:21 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:38:31 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:38:31 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:38:31 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:38:31 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:38:31 [scrapy.extensions.telnet] INFO: Telnet Password: 0fd6088ec4d501e1
2021-07-12 13:38:31 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:38:31 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:38:31 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:38:31 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:38:31 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:38:31 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:38:31 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 13:38:31 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:38:31 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:38:32 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:38:32 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:38:32 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.286644,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 38, 32, 52425),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54706176,
 'memusage/startup': 54706176,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 38, 31, 765781)}
2021-07-12 13:38:32 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:38:45 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:38:45 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:38:45 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:38:45 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:38:45 [scrapy.extensions.telnet] INFO: Telnet Password: b27901f55949b8f0
2021-07-12 13:38:45 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:38:45 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:38:45 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:38:45 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:38:45 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:38:46 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:38:46 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6035
2021-07-12 13:38:46 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:38:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:38:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:38:47 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:38:47 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.568855,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 38, 47, 132929),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54296576,
 'memusage/startup': 54296576,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 38, 46, 564074)}
2021-07-12 13:38:47 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:45:21 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:45:21 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:45:21 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:45:21 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:45:21 [scrapy.extensions.telnet] INFO: Telnet Password: 6e8d0dbf365edd41
2021-07-12 13:45:21 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:45:21 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:45:21 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:45:21 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:45:21 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:45:22 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:45:22 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 13:45:22 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:45:22 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:45:22 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:45:22 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:45:22 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.32635,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 45, 22, 561352),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54665216,
 'memusage/startup': 54665216,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 45, 22, 235002)}
2021-07-12 13:45:22 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:45:53 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:45:53 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:45:53 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:45:53 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:45:53 [scrapy.extensions.telnet] INFO: Telnet Password: b8b06cedee60a795
2021-07-12 13:45:53 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:45:53 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:45:53 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:45:53 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:45:53 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:45:54 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:45:54 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 13:45:54 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:45:54 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:45:54 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:45:54 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:45:54 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.385513,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 45, 54, 568311),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54517760,
 'memusage/startup': 54517760,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 45, 54, 182798)}
2021-07-12 13:45:54 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:46:34 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:46:34 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:46:34 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:46:34 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:46:34 [scrapy.extensions.telnet] INFO: Telnet Password: 84b3c2277e4e651e
2021-07-12 13:46:34 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:46:34 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:46:35 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:46:35 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:46:35 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:46:35 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:46:35 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6029
2021-07-12 13:46:35 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:46:35 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:46:35 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:46:35 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:46:35 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.374997,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 46, 35, 705947),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54636544,
 'memusage/startup': 54636544,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 46, 35, 330950)}
2021-07-12 13:46:35 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 13:46:44 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 13:46:45 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 13:46:45 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 13:46:45 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 13:46:45 [scrapy.extensions.telnet] INFO: Telnet Password: 73c7291fe4834b9b
2021-07-12 13:46:45 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 13:46:45 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 13:46:45 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 13:46:46 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 13:46:46 [scrapy.core.engine] INFO: Spider opened
2021-07-12 13:46:47 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 13:46:47 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6038
2021-07-12 13:46:47 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 13:46:47 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 13:46:47 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 13:46:47 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 13:46:47 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.510503,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 13, 46, 47, 568052),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54657024,
 'memusage/startup': 54657024,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 13, 46, 47, 57549)}
2021-07-12 13:46:47 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
/home/scrapy/scrapy.sh: 6: scrapy: not found
/home/scrapy/scrapy.sh: 6: scrapy: not found
2021-07-12 22:04:29 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 22:04:29 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 22:04:29 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 22:04:29 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 22:04:29 [scrapy.extensions.telnet] INFO: Telnet Password: 816be8d45f94c1f8
2021-07-12 22:04:29 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 22:04:29 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 22:04:29 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 22:04:29 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 22:04:29 [scrapy.core.engine] INFO: Spider opened
2021-07-12 22:04:29 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 22:04:29 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 22:04:30 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 22:04:30 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:04:30 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:04:30 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 22:04:30 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.279708,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 14, 4, 30, 215434),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54640640,
 'memusage/startup': 54640640,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 14, 4, 29, 935726)}
2021-07-12 22:04:30 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
/home/scrapy/scrapy.sh: 6: scrapy: not found
2021-07-12 22:13:43 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 22:13:43 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 22:13:43 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 22:13:43 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 22:13:43 [scrapy.extensions.telnet] INFO: Telnet Password: d71a11936c9d672b
2021-07-12 22:13:43 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 22:13:43 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 22:13:43 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 22:13:43 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 22:13:43 [scrapy.core.engine] INFO: Spider opened
2021-07-12 22:13:43 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 22:13:43 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 22:13:43 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 22:13:43 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:13:44 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:13:44 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 22:13:44 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.231894,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 14, 13, 44, 71454),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54558720,
 'memusage/startup': 54558720,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 14, 13, 43, 839560)}
2021-07-12 22:13:44 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
nohup: failed to run command 'scrapy': No such file or directory
2021-07-12 22:20:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 22:20:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 22:20:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 22:20:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 22:20:08 [scrapy.extensions.telnet] INFO: Telnet Password: 7b5c7bd57f67210f
2021-07-12 22:20:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 22:20:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 22:20:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 22:20:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 22:20:08 [scrapy.core.engine] INFO: Spider opened
2021-07-12 22:20:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 22:20:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 22:20:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 22:20:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:20:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:20:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 22:20:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.273511,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 14, 20, 9, 270595),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54644736,
 'memusage/startup': 54644736,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 14, 20, 8, 997084)}
2021-07-12 22:20:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 22:25:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 22:25:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 22:25:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 22:25:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 22:25:04 [scrapy.extensions.telnet] INFO: Telnet Password: 38e73cbc8dbb120c
2021-07-12 22:25:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 22:25:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 22:25:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 22:25:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 22:25:05 [scrapy.core.engine] INFO: Spider opened
2021-07-12 22:25:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 22:25:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 22:25:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 22:25:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:25:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:25:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 22:25:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.35225,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 14, 25, 5, 851485),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54452224,
 'memusage/startup': 54452224,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 14, 25, 5, 499235)}
2021-07-12 22:25:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 22:26:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 22:26:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 22:26:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 22:26:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 22:26:04 [scrapy.extensions.telnet] INFO: Telnet Password: 3fc41a2e3b5283b1
2021-07-12 22:26:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 22:26:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 22:26:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 22:26:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 22:26:05 [scrapy.core.engine] INFO: Spider opened
2021-07-12 22:26:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 22:26:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 22:26:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 22:26:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 22:26:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 22:26:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 22:26:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.312228,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 14, 26, 5, 750802),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54718464,
 'memusage/startup': 54718464,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 14, 26, 5, 438574)}
2021-07-12 22:26:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-12 23:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-12 23:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-12 23:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-12 23:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-12 23:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: b63cd1477ee204c4
2021-07-12 23:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-12 23:00:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-12 23:00:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-12 23:00:04 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-12 23:00:04 [scrapy.core.engine] INFO: Spider opened
2021-07-12 23:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-12 23:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-12 23:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-12 23:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-12 23:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-12 23:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-12 23:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.34598,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 15, 0, 5, 722799),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54624256,
 'memusage/startup': 54624256,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 15, 0, 5, 376819)}
2021-07-12 23:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
2021-07-13 00:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 00:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 00:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 00:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 00:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: f8bc2fd63e4468d1
2021-07-13 00:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 00:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 00:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 00:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 00:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 00:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 00:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 00:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 00:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 00:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 00:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 00:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.428426,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 16, 0, 5, 790591),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54726656,
 'memusage/startup': 54726656,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 16, 0, 5, 362165)}
2021-07-13 00:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/12', 'sdate': '07/12', 'province': '云南', 'nowConfirm': 59, 'confirmAdd': 9, 'dead': 0, 'syear': 2021, 'city': '德宏州', 'confirm': 157, 'heal': 98, 'grade': '部分高风险'}, {'confirmAdd': 0, 'confirm': 431, 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'city': '深圳'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'date': '07/06', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
2021-07-13 01:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 01:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 01:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 01:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 01:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 88c0ba09fa5f3c8d
2021-07-13 01:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 01:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 01:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 01:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 01:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 01:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 01:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 01:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 01:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 01:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 01:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 01:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.281635,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 17, 0, 5, 656977),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54669312,
 'memusage/startup': 54669312,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 17, 0, 5, 375342)}
2021-07-13 01:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 02:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 02:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 02:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 02:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 02:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: a64a10cc4860fa18
2021-07-13 02:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 02:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 02:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 02:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 02:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 02:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 02:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 02:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 02:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 02:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 02:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 02:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.25913,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 18, 0, 5, 672102),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54587392,
 'memusage/startup': 54587392,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 18, 0, 5, 412972)}
2021-07-13 02:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 03:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 03:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 03:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 03:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 03:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 9e77f835acfc4bc5
2021-07-13 03:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 03:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 03:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 03:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 03:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 03:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 03:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 03:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 03:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 03:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 03:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 03:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.251669,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 19, 0, 5, 660133),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54595584,
 'memusage/startup': 54595584,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 19, 0, 5, 408464)}
2021-07-13 03:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 04:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 04:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 04:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 04:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 04:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: a7e56cc122be153d
2021-07-13 04:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 04:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 04:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 04:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 04:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 04:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 04:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 04:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 04:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 04:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 04:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 04:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.317626,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 20, 0, 5, 766291),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54648832,
 'memusage/startup': 54648832,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 20, 0, 5, 448665)}
2021-07-13 04:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 05:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 05:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 05:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 05:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 05:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: a8b77bd3b7c3b15d
2021-07-13 05:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 05:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 05:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 05:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 05:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 05:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 05:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 05:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 05:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 05:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 05:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 05:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.297964,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 21, 0, 5, 745564),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54632448,
 'memusage/startup': 54632448,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 21, 0, 5, 447600)}
2021-07-13 05:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 06:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 06:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 06:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 06:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 06:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 1b9bb7ac12d12133
2021-07-13 06:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 06:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 06:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 06:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 06:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 06:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 06:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 06:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 06:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 06:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 06:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 06:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.325099,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 22, 0, 5, 816085),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54591488,
 'memusage/startup': 54591488,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 22, 0, 5, 490986)}
2021-07-13 06:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 07:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 07:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 07:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 07:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 07:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: c9e4c3e1e70b8df4
2021-07-13 07:00:05 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 07:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 07:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 07:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 07:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 07:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 07:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 07:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 07:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 07:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 07:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 07:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.250143,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 12, 23, 0, 5, 806613),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54669312,
 'memusage/startup': 54669312,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 12, 23, 0, 5, 556470)}
2021-07-13 07:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'grade': '部分高风险', 'date': '07/12', 'sdate': '07/11', 'province': '云南', 'nowConfirm': 59, 'confirm': 157, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'confirmAdd': 0}, {'confirmAdd': 0, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirm': 102, 'dead': 1, 'grade': '全部低风险'}, {'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'grade': '全部低风险', 'sdate': '06/22', 'province': '广东', 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 08:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 08:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 08:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 08:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 08:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 332e667ae069fca7
2021-07-13 08:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 08:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 08:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 08:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 08:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 08:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 08:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 08:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 08:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 08:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 08:00:06 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 08:00:06 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.417114,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 0, 0, 6, 14508),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54661120,
 'memusage/startup': 54661120,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 0, 0, 5, 597394)}
2021-07-13 08:00:06 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirmAdd': 1, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'date': '07/13', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirm': 158, 'sdate': '07/13'}, {'confirm': 102, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'date': '07/06', 'province': '广东', 'city': '东莞'}, {'province': '广东', 'nowConfirm': 4, 'confirm': 431, 'date': '07/06', 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'city': '深圳', 'confirmAdd': 0, 'dead': 3, 'heal': 424}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 09:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 09:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 09:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 09:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 09:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: f10adbe4192b6796
2021-07-13 09:00:05 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 09:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 09:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 09:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 09:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 09:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 09:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 09:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 09:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 09:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 09:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 09:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.371032,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 1, 0, 5, 984011),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54706176,
 'memusage/startup': 54706176,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 1, 0, 5, 612979)}
2021-07-13 09:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'city': '德宏州', 'nowConfirm': 60, 'heal': 98, 'grade': '部分高风险', 'date': '07/13', 'province': '云南', 'confirmAdd': 1, 'confirm': 158, 'dead': 0, 'sdate': '07/13', 'syear': 2021}, {'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'sdate': '06/22', 'province': '广东', 'confirm': 102, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021}, {'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'heal': 424, 'grade': '全部低风险', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'dead': 3, 'date': '07/06', 'sdate': '06/22'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 10:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 10:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 10:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 10:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 10:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 99166b4b9ab52503
2021-07-13 10:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 10:00:05 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 10:00:05 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 10:00:05 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 10:00:05 [scrapy.core.engine] INFO: Spider opened
2021-07-13 10:00:05 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 10:00:05 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2021-07-13 10:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 10:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 10:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 10:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 10:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1090,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.429764,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 2, 0, 5, 923187),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54628352,
 'memusage/startup': 54628352,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 2, 0, 5, 493423)}
2021-07-13 10:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirmAdd': 1, 'sdate': '07/13', 'syear': 2021, 'heal': 98, 'grade': '部分高风险', 'date': '07/13', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirm': 158, 'dead': 0}, {'heal': 98, 'date': '07/06', 'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'confirm': 102, 'syear': 2021, 'city': '东莞', 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22'}, {'city': '深圳', 'dead': 3, 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'confirmAdd': 0, 'confirm': 431, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 11:00:03 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 11:00:03 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 11:00:03 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 11:00:03 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 11:00:03 [scrapy.extensions.telnet] INFO: Telnet Password: 7e59b98fdc4473ce
2021-07-13 11:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 11:00:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 11:00:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 11:00:04 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 11:00:04 [scrapy.core.engine] INFO: Spider opened
2021-07-13 11:00:04 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 11:00:04 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 11:00:04 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 11:00:04 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 11:00:04 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 11:00:04 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.315526,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 3, 0, 4, 966216),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54554624,
 'memusage/startup': 54554624,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 3, 0, 4, 650690)}
2021-07-13 11:00:04 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/13', 'syear': 2021, 'city': '南京', 'confirmAdd': 1, 'confirm': 94, 'heal': 93, 'sdate': '07/13', 'province': '江苏', 'nowConfirm': 1, 'dead': 0, 'grade': '全部低风险'}, {'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'heal': 98, 'date': '07/13', 'syear': 2021, 'confirmAdd': 1, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'sdate': '07/13'}, {'city': '深圳', 'confirmAdd': 0, 'dead': 3, 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 4, 'confirm': 431, 'heal': 424, 'grade': '全部低风险'}, {'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '06/22', 'dead': 1, 'heal': 98, 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
2021-07-13 12:00:04 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 12:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 12:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 12:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 12:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 2b69c07dde49040c
2021-07-13 12:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 12:00:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 12:00:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 12:00:04 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 12:00:04 [scrapy.core.engine] INFO: Spider opened
2021-07-13 12:00:04 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 12:00:04 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 12:00:05 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 12:00:05 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 12:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 12:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.439271,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 4, 0, 5, 269978),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54644736,
 'memusage/startup': 54644736,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 4, 0, 4, 830707)}
2021-07-13 12:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'syear': 2021, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'date': '07/13', 'sdate': '07/13', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'grade': '全部低风险'}, {'nowConfirm': 60, 'dead': 0, 'grade': '部分高风险', 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'confirmAdd': 1, 'confirm': 158, 'heal': 98}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'nowConfirm': 4, 'city': '深圳', 'confirmAdd': 0, 'dead': 3, 'heal': 424, 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'syear': 2021, 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'date': '07/06', 'province': '广东', 'nowConfirm': 3, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22'}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
2021-07-13 13:00:03 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 13:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 13:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 13:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 13:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: 692ab439037a0eca
2021-07-13 13:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 13:00:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 13:00:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 13:00:04 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 13:00:04 [scrapy.core.engine] INFO: Spider opened
2021-07-13 13:00:04 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 13:00:04 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6033
2021-07-13 13:00:04 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 13:00:04 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 13:00:04 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 13:00:04 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.275708,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 5, 0, 4, 948780),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54575104,
 'memusage/startup': 54575104,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 5, 0, 4, 673072)}
2021-07-13 13:00:04 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'syear': 2021, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'date': '07/13', 'sdate': '07/13', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'grade': '全部低风险'}, {'nowConfirm': 60, 'dead': 0, 'grade': '部分高风险', 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'confirmAdd': 1, 'confirm': 158, 'heal': 98}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'nowConfirm': 4, 'city': '深圳', 'confirmAdd': 0, 'dead': 3, 'heal': 424, 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'syear': 2021, 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'date': '07/06', 'province': '广东', 'nowConfirm': 3, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22'}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
2021-07-13 14:00:03 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 14:00:04 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 14:00:04 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 14:00:04 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 14:00:04 [scrapy.extensions.telnet] INFO: Telnet Password: fa358d37a5fad1f6
2021-07-13 14:00:04 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 14:00:04 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 14:00:04 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 14:00:04 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 14:00:04 [scrapy.core.engine] INFO: Spider opened
2021-07-13 14:00:04 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 14:00:04 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6032
2021-07-13 14:00:04 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 14:00:04 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 14:00:05 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 14:00:05 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.327651,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 6, 0, 5, 48869),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54681600,
 'memusage/startup': 54681600,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 6, 0, 4, 721218)}
2021-07-13 14:00:05 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'syear': 2021, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'date': '07/13', 'sdate': '07/13', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'grade': '全部低风险'}, {'nowConfirm': 60, 'dead': 0, 'grade': '部分高风险', 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'confirmAdd': 1, 'confirm': 158, 'heal': 98}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'nowConfirm': 4, 'city': '深圳', 'confirmAdd': 0, 'dead': 3, 'heal': 424, 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'syear': 2021, 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'date': '07/06', 'province': '广东', 'nowConfirm': 3, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22'}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
2021-07-13 15:00:06 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 15:00:06 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 15:00:06 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 15:00:06 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 15:00:06 [scrapy.extensions.telnet] INFO: Telnet Password: 944abc00d91972de
2021-07-13 15:00:06 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 15:00:06 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 15:00:06 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 15:00:06 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 15:00:06 [scrapy.core.engine] INFO: Spider opened
2021-07-13 15:00:07 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 15:00:07 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6030
2021-07-13 15:00:07 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 15:00:07 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 15:00:07 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 15:00:08 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 15:00:08 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 15:00:08 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 15:00:08 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.446793,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 7, 0, 8, 32671),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54665216,
 'memusage/startup': 54665216,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 7, 0, 7, 585878)}
2021-07-13 15:00:08 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirm': 94, 'dead': 0, 'grade': '全部低风险', 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'province': '江苏', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 1, 'heal': 93}, {'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'syear': 2021, 'city': '德宏州', 'confirm': 158, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'date': '07/13', 'sdate': '07/13'}, {'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'confirm': 431, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'confirmAdd': 0, 'dead': 3, 'sdate': '06/22', 'province': '广东'}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 16:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 16:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 16:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 16:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 16:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 6a49ad2fbec67dbe
2021-07-13 16:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 16:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 16:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 16:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 16:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 16:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 16:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 16:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 16:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 16:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 16:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.416762,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 8, 0, 10, 765565),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54603776,
 'memusage/startup': 54603776,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 8, 0, 10, 348803)}
2021-07-13 16:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirm': 94, 'dead': 0, 'grade': '全部低风险', 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'province': '江苏', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 1, 'heal': 93}, {'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'syear': 2021, 'city': '德宏州', 'confirm': 158, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'date': '07/13', 'sdate': '07/13'}, {'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'confirm': 431, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '深圳', 'nowConfirm': 4, 'confirmAdd': 0, 'dead': 3, 'sdate': '06/22', 'province': '广东'}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 17:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 17:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 17:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 17:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 17:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 63c2795cd3e9eb0a
2021-07-13 17:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 17:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 17:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 17:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 17:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 17:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 17:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6030
2021-07-13 17:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 17:00:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 17:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 17:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.613018,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 9, 0, 11, 405474),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54718464,
 'memusage/startup': 54718464,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 9, 0, 10, 792456)}
2021-07-13 17:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'city': '南京', 'heal': 93, 'syear': 2021, 'grade': '全部低风险', 'date': '07/13', 'sdate': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0}, {'heal': 98, 'date': '07/13', 'sdate': '07/13', 'syear': 2021, 'confirm': 158, 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'grade': '部分高风险', 'province': '云南'}, {'province': '广东', 'nowConfirm': 3, 'heal': 98, 'sdate': '06/22', 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021}, {'heal': 424, 'city': '深圳', 'nowConfirm': 4, 'dead': 3, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 18:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 18:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 18:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 18:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 18:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 2fe13cef17f84805
2021-07-13 18:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 18:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 18:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 18:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 18:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 18:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 18:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 18:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 18:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 18:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 18:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.559659,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 10, 0, 10, 291002),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54657024,
 'memusage/startup': 54657024,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 10, 0, 9, 731343)}
2021-07-13 18:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 19:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 19:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 19:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 19:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 19:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 09a89d2ae05582b4
2021-07-13 19:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 19:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 19:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 19:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 19:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 19:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 19:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 19:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 19:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 19:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 19:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.497511,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 11, 0, 10, 239629),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54706176,
 'memusage/startup': 54706176,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 11, 0, 9, 742118)}
2021-07-13 19:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 20:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 20:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 20:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 20:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 20:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: b6968177bd99c4a3
2021-07-13 20:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 20:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 20:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 20:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 20:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-13 20:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 20:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 20:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 20:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 20:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 20:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 20:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 20:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 20:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.781725,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 12, 0, 10, 205447),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54595584,
 'memusage/startup': 54595584,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 12, 0, 9, 423722)}
2021-07-13 20:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 21:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 21:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 21:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 21:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 21:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 3712765b0086c263
2021-07-13 21:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 21:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 21:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 21:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 21:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 21:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 21:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 21:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 21:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 21:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 21:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.508768,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 13, 0, 10, 200344),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54689792,
 'memusage/startup': 54689792,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 13, 0, 9, 691576)}
2021-07-13 21:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 22:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 22:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 22:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 22:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 22:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: c039eb5b00d8e185
2021-07-13 22:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 22:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 22:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 22:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 22:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 22:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 22:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 22:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 22:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 22:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 22:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.541054,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 14, 0, 10, 682657),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54407168,
 'memusage/startup': 54407168,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 14, 0, 10, 141603)}
2021-07-13 22:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-13 23:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-13 23:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-13 23:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-13 23:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-13 23:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 0b3f335cbc7a5f0e
2021-07-13 23:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-13 23:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-13 23:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-13 23:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-13 23:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-13 23:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-13 23:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-13 23:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-13 23:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-13 23:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-13 23:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.620563,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 15, 0, 10, 526344),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54722560,
 'memusage/startup': 54722560,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 15, 0, 9, 905781)}
2021-07-13 23:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-14 00:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 00:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 00:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 00:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 00:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 71f85a9291f207dd
2021-07-14 00:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 00:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 00:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 00:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 00:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 00:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 00:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 00:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 00:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 00:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 00:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.632246,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 16, 0, 10, 530222),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54652928,
 'memusage/startup': 54652928,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 16, 0, 9, 897976)}
2021-07-14 00:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 93, 'grade': '全部低风险', 'syear': 2021, 'province': '江苏', 'nowConfirm': 1, 'confirmAdd': 1, 'confirm': 94, 'dead': 0, 'city': '南京', 'date': '07/13', 'sdate': '07/13'}, {'confirm': 158, 'grade': '部分高风险', 'sdate': '07/13', 'syear': 2021, 'province': '云南', 'nowConfirm': 60, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'date': '07/13', 'city': '德宏州'}, {'heal': 98, 'date': '07/06', 'confirmAdd': 0, 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'confirm': 431, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'sdate': '06/22', 'syear': 2021, 'nowConfirm': 4, 'dead': 3, 'heal': 424}]
id: 
134
Update finished
id: 
140
Update finished
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
2021-07-14 01:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 01:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 01:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 01:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 01:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: a75fe8c764ecab1d
2021-07-14 01:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 01:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 01:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 01:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 01:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 01:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 01:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 01:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 01:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 01:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 01:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.445085,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 17, 0, 10, 350345),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 17, 0, 9, 905260)}
2021-07-14 01:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 02:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 02:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 02:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 02:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 02:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: a98dc1a12af067f1
2021-07-14 02:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 02:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 02:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 02:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 02:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 02:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 02:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 02:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 02:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 02:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 02:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.500795,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 18, 0, 10, 367836),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54636544,
 'memusage/startup': 54636544,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 18, 0, 9, 867041)}
2021-07-14 02:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 03:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 03:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 03:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 03:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 03:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 4e7a6e7bcddc4b65
2021-07-14 03:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 03:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 03:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 03:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 03:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 03:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 03:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 03:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 03:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 03:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 03:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.662589,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 19, 0, 10, 676358),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54632448,
 'memusage/startup': 54632448,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 19, 0, 10, 13769)}
2021-07-14 03:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 04:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 04:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 04:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 04:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 04:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: e8da953bb26eb464
2021-07-14 04:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 04:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 04:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 04:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 04:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 04:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 04:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 04:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 04:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 04:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 04:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.569774,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 20, 0, 10, 470853),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54632448,
 'memusage/startup': 54632448,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 20, 0, 9, 901079)}
2021-07-14 04:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 05:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 05:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 05:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 05:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 05:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: eab362d1d48cb920
2021-07-14 05:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 05:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 05:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 05:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 05:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 05:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 05:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 05:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 05:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 05:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 05:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.528685,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 21, 0, 10, 417895),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54616064,
 'memusage/startup': 54616064,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 21, 0, 9, 889210)}
2021-07-14 05:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 06:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 06:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 06:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 06:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 06:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 7ed61e0db0b5664b
2021-07-14 06:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 06:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 06:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 06:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 06:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 06:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 06:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 06:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 06:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 06:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 06:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.51506,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 22, 0, 10, 569786),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 22, 0, 10, 54726)}
2021-07-14 06:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 07:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 07:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 07:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 07:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 07:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: e658536784e3a4aa
2021-07-14 07:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 07:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 07:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 07:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 07:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 07:00:11 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 07:00:11 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2021-07-14 07:00:11 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 07:00:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 07:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 07:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.616348,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 13, 23, 0, 11, 676958),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 13, 23, 0, 11, 60610)}
2021-07-14 07:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/13', 'sdate': '07/12', 'province': '云南', 'city': '德宏州', 'nowConfirm': 60, 'confirmAdd': 0, 'confirm': 158, 'dead': 0, 'grade': '部分高风险', 'syear': 2021}, {'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'city': '东莞', 'confirm': 102, 'heal': 98, 'sdate': '06/22'}, {'nowConfirm': 4, 'dead': 3, 'heal': 424, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'confirm': 431, 'date': '07/06', 'city': '深圳'}, {'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'sdate': '02/19', 'syear': 2020, 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 08:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 08:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 08:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 08:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 08:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 7e4ceb1709d5d611
2021-07-14 08:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 08:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 08:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 08:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 08:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 08:00:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 08:00:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 08:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 08:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 08:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 08:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.381107,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 0, 0, 9, 279963),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54554624,
 'memusage/startup': 54554624,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 0, 0, 8, 898856)}
2021-07-14 08:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'heal': 98, 'grade': '部分高风险', 'date': '07/14', 'sdate': '07/14', 'syear': 2021, 'province': '云南', 'confirmAdd': 1}, {'confirm': 431, 'dead': 3, 'heal': 424, 'syear': 2021, 'province': '广东', 'city': '深圳', 'nowConfirm': 4, 'confirmAdd': 0, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22'}, {'province': '广东', 'city': '东莞', 'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22', 'nowConfirm': 3, 'confirmAdd': 0, 'heal': 98, 'syear': 2021}, {'city': '南京', 'nowConfirm': 1, 'confirmAdd': 0, 'date': '07/13', 'sdate': '02/19', 'province': '江苏', 'confirm': 94, 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'syear': 2020}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 09:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 09:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 09:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 09:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 09:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: b4902badefa1a655
2021-07-14 09:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 09:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 09:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 09:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 09:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 09:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 09:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 09:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 09:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '深圳（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 09:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 09:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1260,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.60598,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 1, 0, 10, 189718),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 8,
 'log_count/DEBUG': 10,
 'log_count/INFO': 10,
 'memusage/max': 54652928,
 'memusage/startup': 54652928,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 1, 0, 9, 583738)}
2021-07-14 09:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'city': '德宏州', 'nowConfirm': 61, 'date': '07/14', 'sdate': '07/14', 'grade': '部分高风险', 'syear': 2021, 'province': '云南', 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98}, {'city': '东莞', 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'confirm': 102, 'heal': 98}, {'province': '广东', 'city': '深圳', 'confirmAdd': 0, 'confirm': 431, 'dead': 3, 'syear': 2021, 'nowConfirm': 4, 'heal': 424, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22'}, {'grade': '全部低风险', 'date': '07/13', 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'sdate': '02/19', 'syear': 2020, 'nowConfirm': 1, 'confirmAdd': 0, 'confirm': 94}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
4
Update finished
id: 
7
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 10:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 10:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 10:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 10:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 10:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 237d105fcc706046
2021-07-14 10:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 10:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 10:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 10:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 10:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 10:00:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 10:00:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 10:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 10:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 10:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 10:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 10:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.419684,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 2, 0, 9, 405220),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54657024,
 'memusage/startup': 54657024,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 2, 0, 8, 985536)}
2021-07-14 10:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirmAdd': 1, 'heal': 98, 'grade': '部分高风险', 'province': '云南', 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'dead': 0, 'date': '07/14', 'sdate': '07/14', 'syear': 2021}, {'nowConfirm': 3, 'confirmAdd': 0, 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirm': 102, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22'}, {'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'syear': 2020, 'sdate': '02/19', 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 11:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 11:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 11:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 11:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 11:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 3669f64ba7eaf39b
2021-07-14 11:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 11:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 11:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 11:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 11:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 11:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 11:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 11:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 11:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 11:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 11:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 11:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.726619,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 3, 0, 9, 892082),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54583296,
 'memusage/startup': 54583296,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 3, 0, 9, 165463)}
2021-07-14 11:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'syear': 2021, 'date': '07/14', 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'sdate': '07/14'}, {'grade': '全部低风险', 'date': '07/06', 'dead': 1, 'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'confirm': 102, 'heal': 98, 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'city': '南京', 'nowConfirm': 1, 'confirm': 94, 'syear': 2020, 'province': '江苏', 'confirmAdd': 0, 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 12:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 12:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 12:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 12:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 12:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: cd792796c8e71b17
2021-07-14 12:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 12:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 12:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 12:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 12:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 12:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 12:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 12:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 12:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 12:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 12:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 12:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.713182,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 4, 0, 10, 76382),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54722560,
 'memusage/startup': 54722560,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 4, 0, 9, 363200)}
2021-07-14 12:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'grade': '部分高风险', 'date': '07/14', 'sdate': '07/14'}, {'nowConfirm': 3, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'sdate': '06/22'}, {'sdate': '02/19', 'city': '南京', 'date': '07/13', 'confirmAdd': 0, 'confirm': 94, 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 13:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 13:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 13:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 13:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 13:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 5565dc7b025eb0ee
2021-07-14 13:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 13:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 13:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 13:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 13:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 13:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 13:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 13:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 13:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 13:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 13:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 13:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.764149,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 5, 0, 9, 817726),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 5, 0, 9, 53577)}
2021-07-14 13:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'grade': '部分高风险', 'date': '07/14', 'sdate': '07/14'}, {'nowConfirm': 3, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'sdate': '06/22'}, {'sdate': '02/19', 'city': '南京', 'date': '07/13', 'confirmAdd': 0, 'confirm': 94, 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 14:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 14:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 14:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 14:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 14:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: c220aed81f64f2d7
2021-07-14 14:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 14:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 14:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 14:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 14:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 14:00:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 14:00:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 14:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 14:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 14:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 14:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 14:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.550535,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 6, 0, 9, 522120),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 6, 0, 8, 971585)}
2021-07-14 14:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'syear': 2021, 'city': '德宏州', 'grade': '部分高风险', 'date': '07/14', 'sdate': '07/14'}, {'nowConfirm': 3, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'confirm': 102, 'sdate': '06/22'}, {'sdate': '02/19', 'city': '南京', 'date': '07/13', 'confirmAdd': 0, 'confirm': 94, 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 15:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 15:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 15:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 15:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 15:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 9408d82b44f906a4
2021-07-14 15:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 15:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 15:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 15:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 15:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 15:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 15:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 15:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 15:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 15:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 15:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.55702,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 7, 0, 10, 280770),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54534144,
 'memusage/startup': 54534144,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 7, 0, 9, 723750)}
2021-07-14 15:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirm': 159, 'date': '07/14', 'syear': 2021, 'nowConfirm': 61, 'confirmAdd': 1, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'sdate': '07/14', 'province': '云南', 'city': '德宏州'}, {'province': '广东', 'nowConfirm': 3, 'confirm': 102, 'syear': 2021, 'city': '东莞', 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22'}, {'nowConfirm': 1, 'confirmAdd': 0, 'date': '07/13', 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'city': '南京', 'heal': 93, 'grade': '全部低风险', 'confirm': 94, 'dead': 0}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 16:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 16:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 16:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 16:00:09 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 16:00:09 [scrapy.extensions.telnet] INFO: Telnet Password: 089068ee53e9e7ba
2021-07-14 16:00:09 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 16:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 16:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 16:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 16:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 16:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 16:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 16:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 16:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 16:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 16:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 16:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.746763,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 8, 0, 11, 319465),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54726656,
 'memusage/startup': 54726656,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 8, 0, 10, 572702)}
2021-07-14 16:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/14', 'syear': 2021, 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'grade': '部分高风险', 'sdate': '07/14', 'province': '云南', 'city': '德宏州'}, {'confirm': 102, 'dead': 1, 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'heal': 98, 'grade': '全部低风险', 'city': '东莞', 'nowConfirm': 3}, {'province': '江苏', 'nowConfirm': 1, 'dead': 0, 'grade': '全部低风险', 'date': '07/13', 'syear': 2020, 'city': '南京', 'confirmAdd': 0, 'confirm': 94, 'heal': 93, 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 17:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 17:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 17:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 17:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 17:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: e0931cd3238a7c02
2021-07-14 17:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 17:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 17:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 17:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 17:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 17:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 17:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 17:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 17:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 17:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 17:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 17:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.509576,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 9, 0, 10, 738612),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54669312,
 'memusage/startup': 54669312,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 9, 0, 10, 229036)}
2021-07-14 17:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'heal': 98, 'date': '07/14', 'syear': 2021, 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'grade': '部分高风险', 'sdate': '07/14', 'province': '云南', 'city': '德宏州'}, {'confirm': 102, 'dead': 1, 'date': '07/06', 'sdate': '06/22', 'syear': 2021, 'province': '广东', 'confirmAdd': 0, 'heal': 98, 'grade': '全部低风险', 'city': '东莞', 'nowConfirm': 3}, {'province': '江苏', 'nowConfirm': 1, 'dead': 0, 'grade': '全部低风险', 'date': '07/13', 'syear': 2020, 'city': '南京', 'confirmAdd': 0, 'confirm': 94, 'heal': 93, 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 18:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 18:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 18:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 18:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 18:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: aef8895258d2ba6f
2021-07-14 18:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 18:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 18:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 18:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 18:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 18:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 18:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 18:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 18:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 18:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 18:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.532068,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 10, 0, 10, 758418),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54456320,
 'memusage/startup': 54456320,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 10, 0, 10, 226350)}
2021-07-14 18:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'city': '德宏州', 'date': '07/14', 'sdate': '07/14', 'syear': 2021}, {'heal': 98, 'sdate': '06/22', 'syear': 2021, 'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'confirm': 102, 'dead': 1}, {'nowConfirm': 1, 'confirmAdd': 0, 'confirm': 94, 'syear': 2020, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 19:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 19:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 19:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 19:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 19:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 70e09ceea4339cfb
2021-07-14 19:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 19:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 19:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 19:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 19:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 19:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 19:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 19:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 19:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 19:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 19:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 19:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.593046,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 11, 0, 10, 989326),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54714368,
 'memusage/startup': 54714368,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 11, 0, 10, 396280)}
2021-07-14 19:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'city': '德宏州', 'date': '07/14', 'sdate': '07/14', 'syear': 2021}, {'heal': 98, 'sdate': '06/22', 'syear': 2021, 'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'confirm': 102, 'dead': 1}, {'nowConfirm': 1, 'confirmAdd': 0, 'confirm': 94, 'syear': 2020, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 20:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 20:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 20:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 20:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 20:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: b3a74819c59dcd2e
2021-07-14 20:00:09 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 20:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 20:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 20:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 20:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 20:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 20:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 20:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 20:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 20:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 20:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.535755,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 12, 0, 10, 930981),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54714368,
 'memusage/startup': 54714368,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 12, 0, 10, 395226)}
2021-07-14 20:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'nowConfirm': 61, 'confirmAdd': 1, 'confirm': 159, 'dead': 0, 'heal': 98, 'grade': '部分高风险', 'city': '德宏州', 'date': '07/14', 'sdate': '07/14', 'syear': 2021}, {'heal': 98, 'sdate': '06/22', 'syear': 2021, 'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'grade': '全部低风险', 'date': '07/06', 'province': '广东', 'confirm': 102, 'dead': 1}, {'nowConfirm': 1, 'confirmAdd': 0, 'confirm': 94, 'syear': 2020, 'province': '江苏', 'city': '南京', 'dead': 0, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 21:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 21:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 21:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 21:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 21:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 7ff788b6acf1a7b2
2021-07-14 21:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 21:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 21:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 21:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 21:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 21:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 21:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 21:00:11 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 21:00:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 21:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 21:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 21:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.605703,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 13, 0, 11, 337396),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54558720,
 'memusage/startup': 54558720,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 13, 0, 10, 731693)}
2021-07-14 21:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'sdate': '07/14', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'confirmAdd': 1, 'heal': 98, 'grade': '部分高风险', 'date': '07/14'}, {'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'date': '07/06', 'sdate': '06/22', 'province': '广东', 'confirm': 102, 'grade': '全部低风险', 'syear': 2021}, {'province': '江苏', 'confirm': 94, 'grade': '全部低风险', 'sdate': '02/19', 'syear': 2020, 'date': '07/13', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'heal': 93}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 22:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 22:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 22:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 22:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 22:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 1d3ec0e97062115f
2021-07-14 22:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 22:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 22:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 22:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 22:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-14 22:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 22:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6024
2021-07-14 22:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 22:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 22:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 22:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 22:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.490482,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 14, 0, 11, 116111),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54456320,
 'memusage/startup': 54456320,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 14, 0, 10, 625629)}
2021-07-14 22:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'sdate': '07/14', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'confirmAdd': 1, 'heal': 98, 'grade': '部分高风险', 'date': '07/14'}, {'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'date': '07/06', 'sdate': '06/22', 'province': '广东', 'confirm': 102, 'grade': '全部低风险', 'syear': 2021}, {'province': '江苏', 'confirm': 94, 'grade': '全部低风险', 'sdate': '02/19', 'syear': 2020, 'date': '07/13', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'heal': 93}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-14 23:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-14 23:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-14 23:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-14 23:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-14 23:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 9cc60dd0dc4cb9e5
2021-07-14 23:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-14 23:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-14 23:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-14 23:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-14 23:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-14 23:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-14 23:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-14 23:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-14 23:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-14 23:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-14 23:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-14 23:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.449848,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 15, 0, 9, 479824),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54652928,
 'memusage/startup': 54652928,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 15, 0, 9, 29976)}
2021-07-14 23:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'sdate': '07/14', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'confirmAdd': 1, 'heal': 98, 'grade': '部分高风险', 'date': '07/14'}, {'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'date': '07/06', 'sdate': '06/22', 'province': '广东', 'confirm': 102, 'grade': '全部低风险', 'syear': 2021}, {'province': '江苏', 'confirm': 94, 'grade': '全部低风险', 'sdate': '02/19', 'syear': 2020, 'date': '07/13', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'heal': 93}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 00:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 00:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 00:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 00:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 00:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: dde1c113d37d38bb
2021-07-15 00:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 00:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 00:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 00:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 00:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 00:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 00:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6025
2021-07-15 00:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 00:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 00:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 00:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 00:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.548292,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 16, 0, 10, 703256),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54456320,
 'memusage/startup': 54456320,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 16, 0, 10, 154964)}
2021-07-15 00:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'sdate': '07/14', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 61, 'confirm': 159, 'confirmAdd': 1, 'heal': 98, 'grade': '部分高风险', 'date': '07/14'}, {'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1, 'heal': 98, 'date': '07/06', 'sdate': '06/22', 'province': '广东', 'confirm': 102, 'grade': '全部低风险', 'syear': 2021}, {'province': '江苏', 'confirm': 94, 'grade': '全部低风险', 'sdate': '02/19', 'syear': 2020, 'date': '07/13', 'city': '南京', 'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'heal': 93}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 01:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 01:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 01:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 01:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 01:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 3415cf4ea0391ce5
2021-07-15 01:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 01:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 01:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 01:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 01:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 01:00:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 01:00:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 01:00:08 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 01:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 01:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 01:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 01:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.479038,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 17, 0, 9, 195031),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54599680,
 'memusage/startup': 54599680,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 17, 0, 8, 715993)}
2021-07-15 01:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 02:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 02:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 02:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 02:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 02:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: c0ec9ac647796f84
2021-07-15 02:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 02:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 02:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 02:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 02:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 02:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 02:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 02:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 02:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 02:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 02:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 02:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.445991,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 18, 0, 9, 735590),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 18, 0, 9, 289599)}
2021-07-15 02:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 03:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 03:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 03:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 03:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 03:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 388fa9f6f64ec5ba
2021-07-15 03:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 03:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 03:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 03:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 03:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 03:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 03:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 03:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 03:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 03:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 03:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 03:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.522879,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 19, 0, 9, 663683),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54669312,
 'memusage/startup': 54669312,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 19, 0, 9, 140804)}
2021-07-15 03:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 04:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 04:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 04:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 04:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 04:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 3a5d48db400ad6ba
2021-07-15 04:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 04:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 04:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 04:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 04:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 04:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 04:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 04:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 04:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 04:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 04:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 04:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.595669,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 20, 0, 9, 865486),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54603776,
 'memusage/startup': 54603776,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 20, 0, 9, 269817)}
2021-07-15 04:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 05:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 05:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 05:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 05:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 05:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: b6cc916864b20c1f
2021-07-15 05:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 05:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 05:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 05:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 05:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 05:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 05:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 05:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 05:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 05:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 05:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 05:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.591456,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 21, 0, 10, 245066),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 21, 0, 9, 653610)}
2021-07-15 05:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 06:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 06:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 06:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 06:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 06:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 44274ad9a81eab56
2021-07-15 06:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 06:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 06:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 06:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 06:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 06:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 06:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 06:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 06:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 06:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 06:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 06:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 06:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 06:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 06:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 06:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.607751,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 22, 0, 10, 22738),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54726656,
 'memusage/startup': 54726656,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 22, 0, 9, 414987)}
2021-07-15 06:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 07:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 07:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 07:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 07:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 07:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: e739f6d47d4b6c0a
2021-07-15 07:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 07:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 07:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 07:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 07:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 07:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 07:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 07:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 07:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 07:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 07:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 07:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.704109,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 14, 23, 0, 10, 666213),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54665216,
 'memusage/startup': 54665216,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 14, 23, 0, 9, 962104)}
2021-07-15 07:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 61, 'confirmAdd': 0, 'sdate': '07/13', 'province': '云南', 'confirm': 159, 'date': '07/14'}, {'confirmAdd': 0, 'dead': 1, 'sdate': '06/22', 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'grade': '全部低风险'}, {'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'heal': 93, 'date': '07/13', 'city': '南京', 'confirmAdd': 0, 'grade': '全部低风险', 'sdate': '02/19'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 08:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 08:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 08:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 08:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 08:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 241ca063cc080a56
2021-07-15 08:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 08:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 08:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 08:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 08:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 08:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 08:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 08:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 08:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 08:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 08:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 08:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.63462,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 0, 0, 10, 85422),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54624256,
 'memusage/startup': 54624256,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 0, 0, 9, 450802)}
2021-07-15 08:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'province': '云南', 'confirmAdd': 5, 'dead': 0, 'heal': 98, 'date': '07/15', 'sdate': '07/15', 'city': '德宏州', 'nowConfirm': 66, 'confirm': 164, 'grade': '部分高风险', 'syear': 2021}, {'confirm': 102, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22', 'province': '广东', 'city': '东莞', 'syear': 2021, 'nowConfirm': 3, 'confirmAdd': 0}, {'confirmAdd': 0, 'confirm': 94, 'grade': '全部低风险', 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'city': '南京', 'nowConfirm': 1, 'dead': 0, 'heal': 93, 'date': '07/13'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 09:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 09:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 09:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 09:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 09:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 72c0c5a684aa39ef
2021-07-15 09:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 09:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 09:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 09:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 09:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 09:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 09:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 09:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 09:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 09:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 09:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 09:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.577831,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 1, 0, 9, 977454),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54718464,
 'memusage/startup': 54718464,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 1, 0, 9, 399623)}
2021-07-15 09:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'heal': 98, 'sdate': '07/15', 'province': '云南', 'city': '德宏州', 'confirmAdd': 5, 'confirm': 164, 'nowConfirm': 66, 'grade': '部分高风险', 'date': '07/15', 'syear': 2021}, {'nowConfirm': 3, 'confirmAdd': 0, 'confirm': 102, 'date': '07/06', 'city': '东莞', 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'province': '广东'}, {'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'city': '南京', 'confirm': 94, 'date': '07/13', 'grade': '全部低风险', 'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'heal': 93}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 10:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 10:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 10:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 10:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 10:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 420cb0e4dbb365ed
2021-07-15 10:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 10:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 10:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 10:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 10:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 10:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 10:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6026
2021-07-15 10:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 10:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 10:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 10:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 10:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.494708,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 2, 0, 11, 113384),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54583296,
 'memusage/startup': 54583296,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 2, 0, 10, 618676)}
2021-07-15 10:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'city': '德宏州', 'nowConfirm': 66, 'confirm': 164, 'dead': 0, 'sdate': '07/15', 'syear': 2021, 'province': '云南', 'heal': 98, 'grade': '部分高风险', 'date': '07/15', 'confirmAdd': 5}, {'city': '东莞', 'confirm': 102, 'grade': '全部低风险', 'sdate': '06/22', 'heal': 98, 'date': '07/06', 'syear': 2021, 'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1}, {'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'date': '07/13', 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'city': '南京', 'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 11:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 11:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 11:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 11:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 11:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 6079e83c1849e0f9
2021-07-15 11:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 11:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 11:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 11:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 11:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 11:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 11:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 11:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 11:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 11:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 11:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 11:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.531627,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 3, 0, 10, 180516),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54652928,
 'memusage/startup': 54652928,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 3, 0, 9, 648889)}
2021-07-15 11:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'city': '德宏州', 'nowConfirm': 66, 'confirm': 164, 'dead': 0, 'sdate': '07/15', 'syear': 2021, 'province': '云南', 'heal': 98, 'grade': '部分高风险', 'date': '07/15', 'confirmAdd': 5}, {'city': '东莞', 'confirm': 102, 'grade': '全部低风险', 'sdate': '06/22', 'heal': 98, 'date': '07/06', 'syear': 2021, 'province': '广东', 'nowConfirm': 3, 'confirmAdd': 0, 'dead': 1}, {'nowConfirm': 1, 'confirm': 94, 'dead': 0, 'date': '07/13', 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'city': '南京', 'confirmAdd': 0, 'heal': 93, 'grade': '全部低风险'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 12:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 12:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 12:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 12:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 12:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 7a92c4989b143720
2021-07-15 12:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 12:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 12:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 12:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 12:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 12:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 12:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 12:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 12:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 12:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 12:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 12:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.515882,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 4, 0, 9, 949497),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 4, 0, 9, 433615)}
2021-07-15 12:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'sdate': '07/15', 'province': '云南', 'heal': 98, 'date': '07/15', 'confirm': 164, 'dead': 0, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 66, 'confirmAdd': 5}, {'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06'}, {'confirmAdd': 0, 'confirm': 94, 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'city': '南京', 'dead': 0}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 13:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 13:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 13:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 13:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 13:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 7749522f13b1e1ee
2021-07-15 13:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 13:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 13:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 13:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 13:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 13:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 13:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 13:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 13:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 13:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 13:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 13:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.686657,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 5, 0, 10, 618119),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54648832,
 'memusage/startup': 54648832,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 5, 0, 9, 931462)}
2021-07-15 13:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'sdate': '07/15', 'province': '云南', 'heal': 98, 'date': '07/15', 'confirm': 164, 'dead': 0, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 66, 'confirmAdd': 5}, {'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06'}, {'confirmAdd': 0, 'confirm': 94, 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'city': '南京', 'dead': 0}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 14:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 14:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 14:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 14:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 14:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: cac05687664d0dee
2021-07-15 14:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 14:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 14:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 14:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 14:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 14:00:11 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 14:00:11 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6026
2021-07-15 14:00:11 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 14:00:11 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 14:00:11 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 14:00:11 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 14:00:11 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.262549,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 6, 0, 11, 520798),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54673408,
 'memusage/startup': 54673408,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 6, 0, 11, 258249)}
2021-07-15 14:00:11 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'sdate': '07/15', 'province': '云南', 'heal': 98, 'date': '07/15', 'confirm': 164, 'dead': 0, 'grade': '部分高风险', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 66, 'confirmAdd': 5}, {'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'sdate': '06/22', 'syear': 2021, 'confirmAdd': 0, 'confirm': 102, 'dead': 1, 'heal': 98, 'grade': '全部低风险', 'date': '07/06'}, {'confirmAdd': 0, 'confirm': 94, 'sdate': '02/19', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'heal': 93, 'grade': '全部低风险', 'date': '07/13', 'city': '南京', 'dead': 0}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 15:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 15:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 15:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 15:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 15:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: ea5b1930f0d0cd52
2021-07-15 15:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 15:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 15:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 15:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 15:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 15:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 15:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6024
2021-07-15 15:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 15:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 15:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 15:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 15:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.515613,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 7, 0, 10, 610791),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54714368,
 'memusage/startup': 54714368,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 7, 0, 10, 95178)}
2021-07-15 15:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'grade': '部分高风险', 'date': '07/15', 'province': '云南', 'confirmAdd': 5, 'confirm': 164, 'sdate': '07/15', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 66, 'heal': 98}, {'nowConfirm': 3, 'confirm': 102, 'dead': 1, 'heal': 98, 'date': '07/06', 'syear': 2021, 'province': '广东', 'city': '东莞', 'sdate': '06/22', 'confirmAdd': 0, 'grade': '全部低风险'}, {'confirmAdd': 0, 'dead': 0, 'date': '07/13', 'sdate': '02/19', 'province': '江苏', 'city': '南京', 'heal': 93, 'grade': '全部低风险', 'syear': 2020, 'nowConfirm': 1, 'confirm': 94}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 16:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 16:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 16:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 16:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 16:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: a13a3672f87ad6cf
2021-07-15 16:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 16:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 16:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 16:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 16:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 16:00:10 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 16:00:10 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 16:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 16:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 16:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 16:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 16:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.555648,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 8, 0, 10, 809555),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 8, 0, 10, 253907)}
2021-07-15 16:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'dead': 0, 'date': '07/15', 'syear': 2021, 'city': '德宏州', 'nowConfirm': 66, 'confirmAdd': 5, 'confirm': 164, 'province': '云南', 'heal': 98, 'grade': '部分高风险', 'sdate': '07/15'}, {'confirm': 102, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021, 'date': '07/06', 'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'confirmAdd': 0, 'heal': 98}, {'grade': '全部低风险', 'sdate': '02/19', 'confirm': 94, 'dead': 0, 'nowConfirm': 1, 'confirmAdd': 0, 'heal': 93, 'date': '07/13', 'syear': 2020, 'province': '江苏', 'city': '南京'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 17:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 17:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 17:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 17:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 17:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 78664d232971d469
2021-07-15 17:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 17:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 17:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 17:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 17:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 17:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 17:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 17:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 17:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 17:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 17:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 17:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.552272,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 9, 0, 9, 941408),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54542336,
 'memusage/startup': 54542336,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 9, 0, 9, 389136)}
2021-07-15 17:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/15', 'sdate': '07/15', 'province': '云南', 'city': '德宏州', 'confirmAdd': 5, 'dead': 0, 'heal': 98, 'nowConfirm': 66, 'confirm': 164, 'grade': '部分高风险', 'syear': 2021}, {'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}, {'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'grade': '全部低风险', 'province': '江苏', 'city': '南京', 'confirm': 94, 'heal': 93, 'date': '07/13', 'sdate': '02/19', 'syear': 2020}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 18:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 18:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 18:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 18:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 18:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 794f715d6f208897
2021-07-15 18:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 18:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 18:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 18:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 18:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 18:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 18:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2021-07-15 18:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 18:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 18:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 18:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 18:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.506399,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 10, 0, 10, 169785),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54673408,
 'memusage/startup': 54673408,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 10, 0, 9, 663386)}
2021-07-15 18:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/15', 'sdate': '07/15', 'province': '云南', 'city': '德宏州', 'confirmAdd': 5, 'dead': 0, 'heal': 98, 'nowConfirm': 66, 'confirm': 164, 'grade': '部分高风险', 'syear': 2021}, {'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}, {'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'grade': '全部低风险', 'province': '江苏', 'city': '南京', 'confirm': 94, 'heal': 93, 'date': '07/13', 'sdate': '02/19', 'syear': 2020}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 19:00:07 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 19:00:07 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 19:00:07 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 19:00:07 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 19:00:07 [scrapy.extensions.telnet] INFO: Telnet Password: 5670ed3ff1725ab8
2021-07-15 19:00:07 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 19:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 19:00:08 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 19:00:08 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 19:00:08 [scrapy.core.engine] INFO: Spider opened
2021-07-15 19:00:08 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 19:00:08 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6023
2021-07-15 19:00:09 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 19:00:09 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 19:00:09 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 19:00:09 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 19:00:09 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.535891,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 11, 0, 9, 489099),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54669312,
 'memusage/startup': 54669312,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 11, 0, 8, 953208)}
2021-07-15 19:00:09 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/15', 'sdate': '07/15', 'province': '云南', 'city': '德宏州', 'confirmAdd': 5, 'dead': 0, 'heal': 98, 'nowConfirm': 66, 'confirm': 164, 'grade': '部分高风险', 'syear': 2021}, {'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}, {'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'grade': '全部低风险', 'province': '江苏', 'city': '南京', 'confirm': 94, 'heal': 93, 'date': '07/13', 'sdate': '02/19', 'syear': 2020}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 20:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 20:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 20:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 20:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 20:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: 5a31351549a5763a
2021-07-15 20:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 20:00:08 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 20:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 20:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 20:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 20:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 20:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 20:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 20:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 20:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 20:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 20:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.716304,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 12, 0, 10, 456303),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54677504,
 'memusage/startup': 54677504,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 12, 0, 9, 739999)}
2021-07-15 20:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'date': '07/15', 'sdate': '07/15', 'province': '云南', 'city': '德宏州', 'confirmAdd': 5, 'dead': 0, 'heal': 98, 'nowConfirm': 66, 'confirm': 164, 'grade': '部分高风险', 'syear': 2021}, {'nowConfirm': 3, 'confirm': 102, 'heal': 98, 'date': '07/06', 'province': '广东', 'city': '东莞', 'confirmAdd': 0, 'dead': 1, 'grade': '全部低风险', 'sdate': '06/22', 'syear': 2021}, {'nowConfirm': 1, 'confirmAdd': 0, 'dead': 0, 'grade': '全部低风险', 'province': '江苏', 'city': '南京', 'confirm': 94, 'heal': 93, 'date': '07/13', 'sdate': '02/19', 'syear': 2020}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
2021-07-15 21:00:08 [scrapy.utils.log] INFO: Scrapy 2.5.0 started (bot: risk)
2021-07-15 21:00:08 [scrapy.utils.log] INFO: Versions: lxml 4.6.3.0, libxml2 2.9.10, cssselect 1.1.0, parsel 1.6.0, w3lib 1.22.0, Twisted 18.9.0, Python 3.8.10 (default, Jun  2 2021, 10:49:15) - [GCC 9.4.0], pyOpenSSL 19.0.0 (OpenSSL 1.1.1f  31 Mar 2020), cryptography 2.8, Platform Linux-5.4.0-74-generic-x86_64-with-glibc2.29
2021-07-15 21:00:08 [scrapy.utils.log] DEBUG: Using reactor: twisted.internet.epollreactor.EPollReactor
2021-07-15 21:00:08 [scrapy.crawler] INFO: Overridden settings:
{'BOT_NAME': 'risk',
 'NEWSPIDER_MODULE': 'risk.spiders',
 'ROBOTSTXT_OBEY': True,
 'SPIDER_MODULES': ['risk.spiders']}
2021-07-15 21:00:08 [scrapy.extensions.telnet] INFO: Telnet Password: acfcc795d08340cf
2021-07-15 21:00:08 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.telnet.TelnetConsole',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats']
2021-07-15 21:00:09 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',
 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2021-07-15 21:00:09 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2021-07-15 21:00:09 [scrapy.middleware] INFO: Enabled item pipelines:
['risk.pipelines.RiskPipeline']
2021-07-15 21:00:09 [scrapy.core.engine] INFO: Spider opened
2021-07-15 21:00:09 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2021-07-15 21:00:09 [scrapy.extensions.telnet] INFO: Telnet console listening on 127.0.0.1:6034
2021-07-15 21:00:10 [scrapy.core.engine] DEBUG: Crawled (404) <GET https://api.inews.qq.com/robots.txt> (referer: None)
2021-07-15 21:00:10 [scrapy.core.engine] DEBUG: Crawled (200) <GET https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail> (referer: None)
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '云南（省/直辖市/特别行政区/自治区）', 'risk': 2}
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '德宏州（云南（省/直辖市/特别行政区/自治区））', 'risk': 2}
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '广东（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '东莞（广东（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '江苏（省/直辖市/特别行政区/自治区）', 'risk': 0}
2021-07-15 21:00:10 [scrapy.core.scraper] DEBUG: Scraped from <200 https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=statisGradeCityDetail>
{'name': '南京（江苏（省/直辖市/特别行政区/自治区））', 'risk': 0}
2021-07-15 21:00:10 [scrapy.core.engine] INFO: Closing spider (finished)
2021-07-15 21:00:10 [scrapy.statscollectors] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 514,
 'downloader/request_count': 2,
 'downloader/request_method_count/GET': 2,
 'downloader/response_bytes': 1088,
 'downloader/response_count': 2,
 'downloader/response_status_count/200': 1,
 'downloader/response_status_count/404': 1,
 'elapsed_time_seconds': 0.638798,
 'finish_reason': 'finished',
 'finish_time': datetime.datetime(2021, 7, 15, 13, 0, 10, 552480),
 'httpcompression/response_bytes': 162,
 'httpcompression/response_count': 1,
 'item_scraped_count': 6,
 'log_count/DEBUG': 8,
 'log_count/INFO': 10,
 'memusage/max': 54697984,
 'memusage/startup': 54697984,
 'response_received_count': 2,
 'robotstxt/request_count': 1,
 'robotstxt/response_count': 1,
 'robotstxt/response_status_count/404': 1,
 'scheduler/dequeued': 1,
 'scheduler/dequeued/memory': 1,
 'scheduler/enqueued': 1,
 'scheduler/enqueued/memory': 1,
 'start_time': datetime.datetime(2021, 7, 15, 13, 0, 9, 913682)}
2021-07-15 21:00:10 [scrapy.core.engine] INFO: Spider closed (finished)
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
[{'confirmAdd': 5, 'confirm': 164, 'dead': 0, 'date': '07/15', 'syear': 2021, 'province': '云南', 'city': '德宏州', 'nowConfirm': 66, 'heal': 98, 'grade': '部分高风险', 'sdate': '07/15'}, {'province': '广东', 'city': '东莞', 'nowConfirm': 3, 'dead': 1, 'grade': '全部低风险', 'date': '07/06', 'sdate': '06/22', 'confirmAdd': 0, 'confirm': 102, 'heal': 98, 'syear': 2021}, {'date': '07/13', 'syear': 2020, 'province': '江苏', 'nowConfirm': 1, 'dead': 0, 'heal': 93, 'sdate': '02/19', 'city': '南京', 'confirmAdd': 0, 'confirm': 94, 'grade': '全部低风险'}]
id: 
29
Update finished
id: 
37
Update finished
id: 
4
Update finished
id: 
9
Update finished
id: 
134
Update finished
id: 
140
Update finished
